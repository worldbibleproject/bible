(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{9185:function(e,s,t){Promise.resolve().then(t.bind(t,4247))},4247:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(7437),c=t(2265),r=t(3779),n=t(8222),i=t(6651),l=t(5756);function d(){let{user:e}=(0,r.a)(),[s,t]=(0,c.useState)([]),[d,m]=(0,c.useState)(!0),[x,h]=(0,c.useState)("churches");(0,c.useEffect)(()=>{(null==e?void 0:e.userRole)==="CHURCH_FINDER"&&o()},[e]);let o=async()=>{try{m(!0);let e=await n.h.get("/churches");t(e.data.churches)}catch(e){console.error("Error loading churches:",e)}finally{m(!1)}},u=async(e,s)=>{try{await n.h.patch("/churches/".concat(e,"/vet"),{vetted:s}),await o()}catch(e){console.error("Error vetting church:",e)}};return(null==e?void 0:e.userRole)!=="CHURCH_FINDER"?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You need church finder privileges to access this page."})]})}):d?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)(l.TK,{size:"lg"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Church Finder Dashboard"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Help seekers find the right church community"})]}),(0,a.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"churches",name:"Churches"},{id:"seekers",name:"Seekers"},{id:"connections",name:"Connections"}].map(e=>(0,a.jsx)("button",{onClick:()=>h(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(x===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id))})}),"churches"===x&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Church Directory"}),0===s.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No churches in the directory yet."}):(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isVetted?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isVetted?"Vetted":"Pending Review"})]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Denomination:"})," ",e.denomination]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Address:"})," ",e.address,", ",e.city,", ",e.state," ",e.zipCode]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Pastor:"})," ",e.pastorName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Service Times:"})," ",e.serviceTimes.join(", ")]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Size:"})," ",e.sizeCategory]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Specialties:"})," ",e.specialties.join(", ")]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.description})]}),(0,a.jsxs)("div",{className:"mt-3 flex space-x-2",children:[e.phone&&(0,a.jsxs)("a",{href:"tel:".concat(e.phone),className:"text-sm text-blue-600 hover:text-blue-800",children:["\uD83D\uDCDE ",e.phone]}),e.email&&(0,a.jsxs)("a",{href:"mailto:".concat(e.email),className:"text-sm text-blue-600 hover:text-blue-800",children:["✉️ ",e.email]}),e.website&&(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:"\uD83C\uDF10 Website"})]})]}),(0,a.jsxs)("div",{className:"ml-4 flex flex-col space-y-2",children:[!e.isVetted&&(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.z,{onClick:()=>u(e.id,!0),className:"bg-green-600 hover:bg-green-700 text-sm",children:"Approve"}),(0,a.jsx)(i.z,{onClick:()=>u(e.id,!1),className:"bg-red-600 hover:bg-red-700 text-sm",children:"Reject"})]}),e.isVetted&&(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Vetted on ",new Date(e.vettedDate).toLocaleDateString()]})]})]})},e.id))})]})})}),"seekers"===x&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seekers Looking for Churches"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Seeker management coming soon."})]})}),"connections"===x&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Church Connections"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Connection management coming soon."})]})})]})})}}},function(e){e.O(0,[34,729,880,971,938,744],function(){return e(e.s=9185)}),_N_E=e.O()}]);